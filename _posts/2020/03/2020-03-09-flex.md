---
title: 플렉스(flex) 박스를 한 번 정리하고 가자
layout: post
category: dev
tags: css
---

화면을 개발할 때마다 곤혹스러운 점이 있는데 "내가 플렉스를 알고 사용하는건가?" 라는 생각이 들때 그렇다.
스타일을 수정하면서 어찌어찌 레이아웃을 만들어 내긴 하는데 이게 제대로 알고 하는게 아닌것 같아서 좀 찝찝하다.
마치... 같은 기분이다.

플렉스 관련 글이 많이 있지만 (이 글이 좋다. [A Complete Guide to Flexbox](https://css-tricks.com/snippets/css/a-guide-to-flexbox/))
정리해보면서 한 번더 손에 익혀야겠다.

# 컨테이너와 아이템

플렉스는 두 가지 요소로 이뤄져 있다.

**플랙스 컨테이너**라고 부르는 녀석은 여러 개의 플랙스 아이템을 포함한 부모 역할을 한다.
박스가 늘어나는 방향(`flex-direction`)과 박스가 다음 줄로 넘어가는 방식(`flex-wrap`)을 정하고
그리고 플렉스 아이템을 정렬(`align-item`, `justify-content`)하는 것이 컨테이너의 역할이다.

**플렉스 아이템**은 컨테이너 안에 위치하면서 박스 하나 하나의 모양을 결정한다.
박스의 크기(`flex-basis`)와 크기의 늘어나는 방식(`flex-grow`, `flex-shrink`)을 제어할 수 있다.
뿐만 아니라 컨테이너 안에서 박스의 순서(`order`)도 플렉스 아이템이 정한다.
컨테이너가 아이템을 정렬하지만 플렉스 아이템 스스로 정렬 방식을 정할수도 있다(`align-self`).

이러한 속성을 어떻게 활용할 수 있는지 그리드 레이아웃을 만들어 보면서 익혀보자.

# 그리드 레이아웃 만들기

플렉스를 알기전에는 레이아웃 구성을 위해 float 속성을 주로 사용했다.
이것도 플렉스와 마찬가지로 원리를 이해하고 사용했다기 보다는 꼼수처럼 보이는 여러 팁을 구글링해서 사용했다.

요즘에는 그리드 레이아웃을 만들때 플렉스 박스를 많이 사용하는 편이다.
행과 열로 구성된 이 레이아웃은 트위터 부트스트랩을 포함한 여러 CSS 라이브러리에서 기본으로 제공하는 요소이다.

부트스트랩 코드를 참고해서 플랙스로 그리드 레이아웃을 어떻게 만들었는지 한 번 들여다 보자.

## 행(row)

먼저 `.row` 클래스로 플렉스 컨테이너를 정의한다.
박스모델을 정의하는 `display` 속성에 `flex`를 사용하면 플렉스 컨테이너가 생성된다.

```css
.row {
  display: flex;
}
```

플렉스 컨테이너는 안에 요소가 늘어나면 차곡차곡 가로로 채워지는데 한 줄로 쭉 늘여 세운다.
내가 원하는 것은 자식 요소가 다음 줄로 넘어가는 것인데 [`flex-wrap`](https://developer.mozilla.org/ko/docs/Web/CSS/flex-wrap) 속성이 이 역할을 한다.

```css
.row {
  display: flex;
  flex-wrap: wrap;
}
```

플렉스 컨테이너 안에 있는 요소가 늘어가 컨테이너 너비를 넘어가면 다음 줄로 요소를 배치한다.
이렇게 해서 그리드 레이아웃의 행을 표현하는 `.row` 클래스를 만들었다.

## 열(column)

`.row`가 플렉스 컨테이너 였다면 `.col`은 자식 요소인 플렉스 아이템으로 만들어 볼 수 있다.
행이 열을 포함하듯 플렉스 컨테이너가 플렉스 아이템을 포함하니깐 중첩 구조가 딱 맞다.

플레스 컨테이너의 자식요소는 자동으로 플렉스 아이템이 되는데 기본적으로 자식요소는 컨텐츠 크기만큼 공간을 할당한다.
그리드 레이아웃을 위해 열을 행에 꽉 차게 만들고 싶은데 [`flex-gorw`](https://developer.mozilla.org/ko/docs/Web/CSS/flex-grow) 속성을 이용한다.

`flex-grow`는 아이템이 컨테이너 안에서 차지하는 크기의 정도를 나타내는데 기본값이 0이다.
아래처럼 1로 설정하면 컨테이너의 크기만큼 꽉찬 아이템을 그릴수 있다.

```css
.col {
  flex-basis: 0;
  flex-grow: 1;
}
```

아이템 크기를 지정할 수도 있어야 하는데 [`flex-basis`](https://developer.mozilla.org/ko/docs/Web/CSS/flex-basis) 속성을 사용한다.
아이템의 초기 크기를 지정하는데 이것을 50%로 설정하면 부모인 컨테이너 너비의 절반 크기인 아이템이 된다.

```css
.col-6 {
  /* 
  flex-grow: 0;
  flex-shrik: 0
  flex-basis: 50%; 
  */
  flex: 0 0 50%;
}
```

12 단위의 크기를 사용하느 트위터 부트스트랩은 50% 컬럼 너비를 담당하는 `.col-6` 클래스를 정의한다.
`flex-basis` 아이템 크기를 지정했다면 늘어나는 정도를 정하는 `flex-grow`와 `flex-shrik` 속성의 값을 0으로 주어 변동되지 않도록 고정해야한다.

아이템 크기와 관련된 이 세개 속성은 하나의 축약표현을 많이 사용하는데 `flex` 속성에 `flex-grow`, `flex-shrink`, `flex-basis` 값을 순서대로 지정한다.

# 정렬

요소의 수직정렬을 맞추는게 나한텐 좀 까다로웠다.
잘 외워지지 않고 매번 방법을 찾아보는데 마음에 확신이 없었기 때문이다.

플렉스 박스를 사용한면 `align-items`와 `justify-content` 속성으로 플렉스 컨테이너 안의 플레스 아이템을 수월하게 정렬할 수 있다.

## 주축과 교차축

플랙스 박스에는 주축(Main Axis)과 교차축(Cross Axis)이란 개념이 있는데 이것부터 정리하고 정렬로 넘어가자.

주축은 플랙스 아이템이 쌓이는 방향인데 `flex-direction` 속성이 정한다.
`row`일 경우 주축은 인라인방향 혹은 글을 작성하는 방향이 된다. 한글이나 영어를 사용하는 브라우져의 경우 왼쪽에서 오른쪽 방향이다.
플렉스 아이템은 왼쪽부터 시작해서 오른쪽 방행으로 하나씩 쌓일 것이다.

이때 교차축은 주축을 가로지르는 방향이다. 블록 방향이다. 위에서 아래 방향이다.

## 수직 정렬

자식 요소를 수직정렬하기 위해서는, 다시 말해서 위, 중앙, 하단 중 하나로 정렬하기 위해서는 교차축을 기준으로 해야한다.
`align-items`는 교차축을 기준으로 정렬한다.

### 컨테이너가 정렬

`flex-start`로 설정하면 컨테이서 상단에 아이템들을 정렬할수 있는데 교차축 방향이 위에서 아래로 가기때문에 start가 위인 것이다.
`flex-end`로 설정하면 교차축 마지막인 하단으로 정렬된다.
`center`는 수직선에서 중앙에 위치한다.

```css
.align-items-start {
  align-items: flex-start !important;
}
.align-items-center {
  align-items: center !important;
}
.align-items-end {
  align-items: flex-end !important;
}
```

### 아이템이 스스로 정렬

컨테이너에서 일괄적로 정렬하는 방법과 달리 플렉스 아이템 스스로 교차축을 기준으로 정렬하는 방법인 있는데 그것이 바로 `align-self` 속성다. 속성값의 역할은 위와 동일하다.

```css
.align-self-start {
  align-self: flex-start !important;
}
.align-self-center {
  align-self: center !important;
}
.align-self-end {
  align-self: flex-end !important;
}
```

## 수평 정렬

한편 수평으로 정렬하려면 주축을 기준으로 해야한다.
이것도 여전히 flex-direction = row 일 경우, 즉 주축이 인라인 방향일 경우에 해당한다.

`justify-content` 속성은 주축상의 요소를 정렬하는 기능이다.
주축으로 아이템이 배치되는데 그것을 `flex-start`로 하면 주축이 시작되는 방향인 왼쪽으로 정렬된다.
`flex-end`는 오른쪽, `center`는 중앙 정렬이다.

```css
.justify-content-start {
  justify-content: flex-start !important;
}
.justify-content-start {
  justify-content: center !important;
}
.justify-content-end {
  justify-content: flex-end !important;
}
```

주축에서 정렬할때는 아이템 간격을 설정해야할 경우도 있는데 아래 두가지로 사용한다.
`space-around`로 설정하면 모든 아이템 양쪽에 같은 크기의 마진을 부여한다.
`space-between`은 아이템 사이의 공간을 똑같은 크기로 표시한다.

```css
.justify-content-around {
  justify-content: space-around !important;
}
.justify-content-between {
  justify-content: space-between !important;
}
```

### [예시] 중앙 정렬된 모달 만들기

플렉스 박스의 주축과 교차축을 이용해 정렬하는 방법을 이용하면 요소를 화면 정중앙에 위치시키는 것이 무척 간단해진다.
좌우로 뻗은 주축상의 중앙을 맞추고 상하로 뻗은 교차축상의 중앙을 맞추면 그만이다.

```css
.modal {
  display: flex;
  align-items: center;
  justify-content: center;
}
```

// 화면

# 순서

플렉스 아이템은 정의한 순서와 달리 직접 아이템 순서를 지정할 수 있다.
`order` 속성을 사용하면 수월해진다.

```css
.order-1 {
  order: 1;
}
.order-12 {
  order: 12;
}
```

주축 기준으로 작은 숫자에서 큰숫자 순으로 정렬된다.
트위터 부트스트랩은 그리드 처럼 정렬에도 12가지 순서를 둬서 `.order-1` 부터 `.order-12`까지 클래스를 만들어 두었다.

```css
.order-first {
  order: -1;
}
.order-last {
  order: 13;
}
```

예외로 맨 앞에 요소를 두기 위해 `order: -1`을 사용하거나 맨 뒤로 뒤기위해 `order: 13`을 설정한 클래스도 만들어 두었다.

## [예시] 반응형 레이아웃

모바일과 데스크탑 화면에서 크기에 적절한 반응형 디자인에 `order` 속성을 사용하면 무척 단순하게 코드를 관리할 수 있다.

```html
<div class="wrapper">
  <header class="header">Header</header>
  <main class="main">Main</main>
  <aside class="aside-1">Aside 1</aside>
  <aside class="aside-2">Aside 2</aside>
  <footer class="footer">Footer</footer>
</div>
```

```css
.wrapper {
  display: flex;
  flex-wrap: wrap;
}
.wrapper > * {
  flex-grow: 1;
  flex-basis: 100%;
}
.header {
  background-color: pink;
}
.main {
  height: 160px;
}
.aside-1 {
  background-color: orange;
}
.aside-2 {
  background-color: lightblue;
}
.footer {
  background-color: lime;
}
```

wrapper로 플랙스 컨테이너를 만들어 레이아웃 요소들을 플랙스 아이템으로 만든다.
시멘틱하게 헤더, 메인, 사이드, 푸터 순으로 요소를 배치하고 이것을 순서대로 보여준다.

데스크탑일 경우 넓어진 가로 길이 만큼 요소를 적절하게 위치시키는게 좋은데 일명 성화 레이아웃으로 만들어 보겠다.
첫째줄에 해더를 두고, 둘째줄에는 사이드1, 메인, 사이드2를 둔다. 그리고 마지막 줄에는 푸터를 두는 방식이다.
플랙스 아이템의 순서를 정하는 `order` 속성을 활용하자.

```css
@media all and (min-width: 860px) {
  .main {
    flex: 3 0;
  }
  .aside-1,
  .aside-2 {
    flex: 1 0;
  }
  .aside-1,
  .aside-2 {
    max-width: 240px;
  }

  .heaer {
    order: 1;
  }
  .aside-1 {
    order: 2;
  }
  .main {
    order: 3;
  }
  .aside-2 {
    order: 4;
  }
  .footer {
    order: 5;
  }
}
```

그리고 사이드 1과 메인, 사이드2를 한 줄에 두어야하는데 flex-grow 속성으로 크기를 비율로 1:3:1 비율로 지정한다.
그리고 aside 의 높이에 제한을 두어 화면 너비가 늘어나더라도 240으로 제한하고 main이 그만큼 더 늘어나도록 부여했다.
